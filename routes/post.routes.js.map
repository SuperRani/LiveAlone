{"version":3,"file":"post.routes.js","sourceRoot":"","sources":["post.routes.ts"],"names":[],"mappings":"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","sourcesContent":["import { Router } from 'express'\nimport {Board} from \"../interface/Board\";\n\nconst _connection = require('../controllers/post.controller');\nlet connection = new _connection();\n\n\n\n\nconst router = Router();\nrouter.route('/')\n\n    .get((req, res) => {\n        connection.createConnection().then(result => {\n             connection.query(result, 'call usp_get_board;').then(getDatas => {\n            return getDatas;\n        }).then(getDatas => {\n            \n            console.log('getData 파라미터 값은?',getDatas);\n            result.release();\n            return res.json(getDatas[0]);\n       \n            \n            \n        })\n    });\n    })\n    .post((req, res) => {\n        \n        connection.createConnection().then(result => {\n            const newBoard: Board = req.body;\n        connection.query([newBoard,result], 'CALL usp_add_board').then(postData => {\n            return postData;\n        }).then(postData => {\n            console.log(postData);\n            result.release();\n        })\n    });\n    });\n    \n\n\nrouter.route('/:bNum')\n    .get((req, res) => {\n        connection.createConnection().then(result => {\n        const bNum = req.params.bNum;\n        connection.query(result, 'SELECT * FROM board WHERE bNum = ?', [bNum]).then(getData => {\n            return getData;\n        }).then(getData => {\n            console.log(getData);\n            result.release();\n            res.json(getData[0]);\n        })\n    });\n    })\n    .delete((req, res) => {\n        connection.createConnection().then(result => {\n        const bNum = req.params.bNum;\n        connection.query(result, 'DELETE FROM board WHERE bNum = ?', [bNum]).then(deleteData => {\n            return deleteData;\n        }).then(deleteData => {\n            console.log(deleteData);\n            result.release();\n        })\n    });\n    })\n    .put((req, res) => {\n        connection.createConnection().then(result => {\n        const bNum = req.params.bNum;\n        const updateBoard: Board = req.body;\n        connection.query(result, 'UPDATE board set ? WHERE bNum = ?', [updateBoard, bNum]).then(putData => {\n            return putData;\n        }).then(putData => {\n            console.log(putData);\n            result.release();\n        })\n    });\n    });\n    \n\nexport default router;\n\n\n\n\n// const router = Router();\n// router.route('/')\n//\n//     .get(postController.getPosts)\n//     .post(postController.createPost);\n//\n//\n// router.route('/:bNum')\n//     .get(postController.getPost)\n//     .delete(postController.deletePost)\n//     .put(postController.updatePost);\n//\n// export default router;\n\n\n"]}