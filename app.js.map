{"version":3,"file":"app.js","sourceRoot":"","sources":["app.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,sDAA+C;AAC/C,oDAA4B;AAC5B,gDAAwB;AAIxB,SAAS;AACT,yEAA+C;AAC/C,uEAA6C;AAG7C,IAAI,GAAG,GAAG,iBAAO,EAAE,CAAC;AACpB,IAAI,MAAM,GAAI,iBAAO,CAAC,MAAM,EAAE,CAAC;AAG/B;IAII,YACW,IAAsB;QAAtB,SAAI,GAAJ,IAAI,CAAkB;QAE7B,IAAI,CAAC,GAAG,GAAG,iBAAO,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,CAAC,UAAU,EAAE,CAAC;QAClB,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAEO,QAAQ;QACZ,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,IAAI,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,CAAC,CAAC;IAChE,CAAC;IAEO,UAAU;QACd,GAAG,CAAC,GAAG,CAAC,cAAI,EAAE,CAAC,CAAC;QAGhB,MAAM,OAAO,GAAoB;YAC7B,cAAc,EAAE,CAAC,QAAQ,EAAE,kBAAkB,EAAE,cAAc,EAAE,QAAQ,EAAE,gBAAgB,CAAC;YAC1F,WAAW,EAAE,IAAI;YACjB,OAAO,EAAE,wCAAwC;YACjD,MAAM,EAAE,wBAAwB;YAChC,iBAAiB,EAAE,KAAK;SAC3B,CAAC;QAEF,MAAM,CAAC,GAAG,CAAC,cAAI,CAAC,OAAO,CAAC,CAAC,CAAC;QAE1B,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,cAAI,CAAC,OAAO,CAAC,CAAC,CAAC;QAKnC,gDAAgD;QAChD,yDAAyD;QACzD,iEAAiE;QACjE,kFAAkF;QAClF,mMAAmM;QACnM,gEAAgE;QAChE,EAAE;QACF,MAAM;QACN,qCAAqC;QACrC,EAAE;QACF,yDAAyD;QACzD,cAAc;QACd,EAAE;QACF,MAAM;QACN,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,gBAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,IAAI,EAAE,CAAC,CAAC;QAC7B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,iBAAO,CAAC,UAAU,CAAC,EAAC,QAAQ,EAAE,KAAK,EAAC,CAAC,CAAC,CAAC;IACxD,CAAC;IAEO,MAAM;QACV,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,sBAAW,CAAC,CAAC;QAE1B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE,qBAAU,CAAC,CAAC;IAEvC,CAAC;IAEK,MAAM;;YAIR,MAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;YAC5C,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;QACxD,CAAC;KAAA;CAEJ;AAtED,kBAsEC","sourcesContent":["import express, { Application } from 'express';\nimport morgan from 'morgan';\nimport cors from \"cors\";\nimport { Router } from 'express'\n\n\n// Routes\nimport IndexRoutes from './routes/index.routes'\nimport PostRoutes from './routes/post.routes'\n\n\nlet app = express();\nlet router =  express.Router();\n\n\nexport class App {\n    \n    app: Application;\n\n    constructor(\n        public port?: number | string\n    ) {\n        this.app = express();\n        this.settings();\n        this.middleware();\n        this.routes();\n    }\n\n    private settings() {\n        this.app.set('port', this.port || process.env.PORT || 5000);\n    }\n\n    private middleware() {\n        app.use(cors());\n    \n    \n        const options:cors.CorsOptions = {\n            allowedHeaders: [\"Origin\", \"X-Requested-With\", \"Content-Type\", \"Accept\", \"X-Access-Token\"],\n            credentials: true,\n            methods: \"GET,HEAD,OPTIONS,PUT,PATCH,POST,DELETE\",\n            origin: 'http://localhost:5000/',\n            preflightContinue: false\n        };\n        \n        router.use(cors(options));\n    \n        router.options(\"*\", cors(options));\n    \n    \n    \n    \n        // app.get('/board', function (req, res, next) {\n        //     res.setHeader('Access-Control-Allow-Origin', '*');\n        //     res.setHeader(\"Access-Control-Allow-Credentials\", \"true\");\n        //     res.setHeader(\"Access-Control-Allow-Methods\", \"GET,HEAD,OPTIONS,POST,PUT\");\n        //     res.setHeader(\"Access-Control-Allow-Headers\", \"Access-Control-Allow-Headers, Origin,Accept, X-Requested-With, Content-Type, Access-Control-Request-Method, Access-Control-Request-Headers\");\n        //     res.json({msg: 'This is CORS-enabled for all origins!'});\n        //\n        // });\n        // app.use(function(req, res, next) {\n        //\n        //     res.setHeader('Access-Control-Allow-Origin', '*');\n        //     next();\n        //\n        // });\n        this.app.use(morgan('dev'));\n        this.app.use(express.json());\n        this.app.use(express.urlencoded({extended: false}));\n    }\n\n    private routes() {\n        this.app.use(IndexRoutes);\n    \n        this.app.use('/board', PostRoutes);\n        \n    }\n\n    async listen(): Promise<void> {\n       \n     \n        \n        await this.app.listen(this.app.get('port'));\n        console.log('Server on port', this.app.get('port'));\n    }\n\n}\n\n\n\n\n\n\n"]}