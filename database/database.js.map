{"version":3,"file":"database.js","sourceRoot":"","sources":["database.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAgBA,4CAA+C;AAC/C,oDAA4B;AAE5B;;QACI,qDAAqD;QACrD,yBAAyB;QACzB,oBAAoB;QACpB,wBAAwB;QACxB,2BAA2B;QAC3B,MAAM;QACN,qBAAqB;QAGrB,MAAM,IAAI,GAAG,MAAM,oBAAU,CAAC,eAAM,CAAC,QAAQ,CAAC,CAAC;QAC/C,IAAI,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YACnC,UAAU,CAAC,OAAO,EAAE,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC;IAChB,CAAC;CAAA;AAjBD,0BAiBC;AAED,uBAAuB;AACvB,+DAA+D;AAG/D,kDAAkD;AAClD,2CAA2C;AAC3C,0CAA0C;AAC1C,sCAAsC;AACtC,MAAM","sourcesContent":["// import { createPool, Pool } from 'mysql2/promise';\n//\n//\n// export async function connect(): Promise<any> {\n//     const connection = await createPool({\n//         host: 'localhost',\n//         user: 'root',\n//         password: '0000',\n//         database: 'NewTest',\n//         connectionLimit: 10\n//\n//     });\n//\n//     return connection;\n// }\nimport mysql, {Connection} from 'promise-mysql';\nimport {createPool,Pool} from 'mysql2/promise';\nimport dbName from './mysql'\n\nexport async function connect(): Promise<Pool> {\n    // const connection  = await mysql.createConnection({\n    //     host: 'localhost',\n    //     user: 'root',\n    //     password: '0000',\n    //     database: 'NewTest',\n    // });\n    // return connection;\n    \n    \n    const pool = await createPool(dbName.database);\n    pool.getConnection().then(connection =>{\n        connection.release();\n        console.log('DB IS CONNECTED');\n    });\n\n    return pool;\n}\n\n// export default pool;\n//createPool 함수가 프로미스 반환하는데 그냥 바로 접근하셔서 그런거네요 await 이나 then 쓰세요\n\n\n// const pool = mysql.createPool(dbName.database);\n// pool.getConnection().then(connection =>{\n//     pool.releaseConnection(connection);\n//     console.log('DB IS CONNECTED');\n// });\n"]}