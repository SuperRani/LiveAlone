{"version":3,"file":"database.js","sourceRoot":"","sources":["database.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAEA,4CAA+C;AAC/C,oDAA4B;AAE5B;;QAEI,MAAM,IAAI,GAAG,MAAM,oBAAU,CAAC,eAAM,CAAC,QAAQ,CAAC,CAAC;QAG/C,IAAI,CAAC,aAAa,EAAE;aACf,IAAI,CAAC,UAAU,CAAC,EAAE;YACnB,IAAG,UAAU,IAAI,IAAI,EAAC;gBAClB,UAAU,CAAC,OAAO,EAAE,CAAC;gBACrB,UAAU,CAAC,QAAQ,EAAE,CAAC;aACzB;YAED,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,UAAU,CAAC,QAAQ,CAAC,CAAC;YAC3C,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;QAEnC,CAAC,CAAC,CAAC;QACH,OAAO,IAAI,CAAC;IAChB,CAAC;CAAA;AAjBD,0BAiBC;AAID,mDAAmD;AACnD,uCAAuC;AACvC,EAAE;AACF,sDAAsD;AACtD,gEAAgE;AAChE,oEAAoE;AACpE,qBAAqB;AACrB,gCAAgC;AAChC,EAAE;AACF,YAAY;AACZ,oCAAoC;AACpC,UAAU;AACV,mBAAmB;AACnB,EAAE;AACF,IAAI","sourcesContent":["\nimport mysql, {Connection} from 'promise-mysql';\nimport {createPool,Pool} from 'mysql2/promise';\nimport dbName from './mysql'\n\nexport async function connect(): Promise<Pool> {\n\n    const pool = await createPool(dbName.database);\n\n\n    pool.getConnection()\n        .then(connection =>{\n        if(connection != null){\n            connection.release();\n            connection.rollback();\n        }\n        \n        console.log('쓰레드아이디', connection.threadId);\n        console.log('DB IS CONNECTED');\n        \n    });\n    return pool;\n}\n\n\n\n// export async function connect(): Promise<Pool> {\n//     const mysql = require('mysql2');\n//\n//     const pool = mysql.createPool(dbName.database);\n//     const promisePool = pool.promise;         //promise 호출 불가\n//     await pool.getConnection(function (err:any, connection:any) {\n//         if (err) {\n//             console.log(err);\n//\n//         }\n//             connection.release();\n//     });\n//     return pool;\n//\n// }\n\n"]}